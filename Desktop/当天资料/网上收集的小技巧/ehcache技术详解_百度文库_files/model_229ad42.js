define("wktrade:widget/ui/mvp/model/model.js",function(e,t,i){var a=e("wkcommon:widget/ui/lib/jquery/jquery.js"),r=e("wktrade:widget/ui/mvp/event/event.js"),o=e("wkcommon:widget/ui/js_core/mvp/template/template.js"),n=function(){var e=function(){this.init.apply(this)};return e.prototype={name:"",URL:function(){var e=window.location.host;return"wenku.baidu.com"===e||"t.wenku.baidu.com"===e||"yf-iknow-heter00.yf01.baidu.com:8083"===e||"cq02-iknow-tips00.cq02.baidu.com:8099"===e||"cq01-orp-app0402.cq01.baidu.com:8300"===e?{walletUrl:"http://zhifu.baidu.com/static/js/pc/iframe/lbscashier-iframe.js",checkOrder:"http://wenku.baidu.com/cashier/interface/maketrade"}:{walletUrl:["http://10.94.63.37:8880","/static/js/pc/iframe/lbscashier-iframe.js"].join(""),checkOrder:"http://"+e+"/cashier/interface/maketrade"}}(),PD:{cashierCode:0,token:"",isFirst:!0,uid:0,uname:"",goodsId:0,goodsName:"",goodsType:0,movieType:"",discount:0,range:"",renewInfo:"",specialInfo:"",salePrice:0,actualPrice:0,savePrice:0,price:0,otherPrice:0,docPrice:0,docSalePrice:0,totalNum:1,vouchersPrice:0,isVouchers:!1,isVoucherId:0,vouchers:[],isExchange:!1,isOtherPrice:!1,isAgreement:!0,isDocPack:!1,isGiftCard:!1,initCashierUrl:"",goodsInfo:{},cashierName:""},cashierInitUrl:function(e){var t=this;return["orderCreateTime=",function(){var e=["uid="+t.PD.uid+"|","goods_id="+t.PD.goodsId+"|","goods_type="+t.PD.goodsType+"|","original_price="+t.PD.price+"|","token="+t.PD.token+"|","cashierCode="+t.PD.cashierCode+"|","small_flow="+t.PD.isHit+"|",t.PD.isVouchers?"voucher_id="+t.PD.isVoucherId+"|":"|",t.PD.tradeId?"trade_id="+t.PD.tradeId+"|":"|",t.PD.docIds?"doc_ids="+t.PD.docIds+"|":"|",t.PD.isExchange?"discount_code="+t.PD.exchangeCode+"|":"|",t.PD.docIds?"doc_ids="+t.PD.docIds+"|":"|",t.PD.isGiftCard?"egift_card_cnt="+t.PD.totalNum+"|":"|",t.PD.selectMonthlyPay?"tn=STN@bfb_auth|":"|",t.PD.userAddressId?"uaddid="+t.PD.userAddressId+"|":"|",t.PD.movieType?"movie_type="+t.PD.movieType+"|":"|","uname="+encodeURIComponent(t.PD.uname)+"|","goods_name="+encodeURIComponent(t.PD.goodsName)+"|"];return e=e.join(""),e+"&"}(),"payAmount="+(e&&e.payAmount?e.payAmount:t.PD.actualPrice)+"&",t.getReqData()?"reqData="+t.getReqData()+"&":"","feData="+t.getFeData()].join("")},getFeData:function(){var e="",t=this;return e=t.PD.selectMonthlyPay?'{"disabledChannel": ["bfb", "alipay", "wechat", "bank", "mobile", "game"],"channelView": {"contract": 1}}':0===t.PD.whiteUser&&"vipcashier"===t.PD.cashierName||"vipcashier"!==t.PD.cashierName&&!t.PD.isWechat?'{"disabledChannel":["wechat"]}':t.PD.isWechat?'{"disabledChannel":["contract", "bfb", "alipay", "bank", "mobile", "game"]}':3===+t.PD.goodsType&&10===+t.PD.goodsId||1===+t.PD.isShowContract?'{"disabledChannel":["contract"]}':'{"disabledChannel":[], "channelView": {"contract": 0}}'},getReqData:function(){var e="",t=this;return t.PD.isWechat||1!==t.PD.whiteUser||(e='{"wechat_mode": "button"}'),e},cashier:{obj:null,key:!1},M:new r,init:function(){},updateTpl:function(e,t){var i=e.find('[node-type="ajax-tpl"]').html();t.sale_price_txt=this.formatPrice(t.sale_price),t.price_txt=this.formatPrice(t.price),t.single_price&&(t.single_price_txt=this.formatPrice(t.single_price)),t.single_sale_price&&(t.single_sale_price_txt=this.formatPrice(t.single_sale_price)),e.find('[node-type="ajax-html"]').html(o.template(i,t))},formatPrice:function(e,t){var t=t||(Number(e)%100===0?0:1);return(Number(e)/100).toFixed(t)},objIsNull:function(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1},refreshElements:function(e,t){var i,r=e||this.elements,o=t||this.$el,n=[];for(var c in r)r.hasOwnProperty(c)&&(i=r[c],n.push(this.E[i]=a(c,o)));return n}},e}(),c=function(e){var t=function(){};return t.prototype=a.extend(new n,e),new t};i.exports.model=n,i.exports.create=c});