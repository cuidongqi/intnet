define("article:widget/mooncake/mooncake.js",function(require,exports,module){var $=require("common-jquery:widget/lib/jquery/jquery.js"),bt=require("common-jquery:widget/js/util/template/template.js"),prizeTpl=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<div class="dialog-bg">    <span class="sun"></span>    <span class="close-icon"></span>    <span class="wuren"></span>    <span class="suixie"></span>    <span class="caidai"></span>    <span class="tooltip"></span>    <p class="info">        <span class="highlight">恭喜中奖</span>，        <span class="text">留下您手机号，我们火速联系为您颁奖。</span>        <span class="num">手机号：</span>           <input type="text" placeholder="请输入手机号" class="ipt">        <span class="btn">提交</span>    </p>    <div class="bottom-block">        <div class="left">            <h1>活动规则<span class="sanjiao-icon"></span></h1>            <ul>                当幸运的你拿到“至尊五仁月饼”时，就可以获得我们为您精心准备的中秋礼品。同志们，经验浏览多，中奖机会大，把握此刻中秋，大奖等你来拿！！！            </ul>        </div>        <div class="right">            <h1>中秋经验大放送<span class="sanjiao-icon"></span></h1>            <ul>                ');for(var i=0;length>i;i++)_template_fun_array.push('                    <li>                        <span class="yuan-icon"></span>                        <a target="_blank" href="',"undefined"==typeof tempExpShow[i].href?"":baidu.template._encodeHTML(tempExpShow[i].href),'">',"undefined"==typeof tempExpShow[i].title?"":baidu.template._encodeHTML(tempExpShow[i].title),"</a>                    </li>                ");_template_fun_array.push("            </ul>        </div>    </div></div>"),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],noprizeTpl=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<div class="dialog-bg">    <span class="sun"></span>    <span class="close-icon"></span>    '),_template_fun_array.push(0==random?'        <span class="hongdou"></span>        <div class="rules" style="margin-top: 70px;">    ':1==random?'        <span class="fruit"></span>        <div class="rules" style="margin-top: 70px;">    ':2==random?'        <span class="lianrong"></span>        <div class="rules" style="margin-top: 30px;">    ':'        <span class="icecream"></span>        <div class="rules" style="margin-top: 54px;">    '),_template_fun_array.push('            <h1>活动规则<span class="sanjiao-icon"></span></h1>        当幸运的你拿到<span class="green">“至尊五仁月饼”</span>时，就可以获得我们为您精心准备的中秋礼品，同志们，经验浏览多，中奖机会大，把握此刻中秋，大奖等你来拿！！！    </div>    <div class="bottom-block1">        <h1 class="green">中秋经验大放送<span class="sanjiao-icon"></span></h1>        <ul>            ');for(var i=0;2>i;i++)_template_fun_array.push('                <li>                    <span class="yuan-icon"></span>                    <a target="_blank" href="',"undefined"==typeof tempExpShow[i].href?"":baidu.template._encodeHTML(tempExpShow[i].href),'">',"undefined"==typeof tempExpShow[i].title?"":baidu.template._encodeHTML(tempExpShow[i].title),"</a>                </li>            ");_template_fun_array.push("        </ul>        <ul>            ");for(var i=2;4>i;i++)_template_fun_array.push('                <li>                    <span class="yuan-icon"></span>                    <a target="_blank" href="',"undefined"==typeof tempExpShow[i].href?"":baidu.template._encodeHTML(tempExpShow[i].href),'">',"undefined"==typeof tempExpShow[i].title?"":baidu.template._encodeHTML(tempExpShow[i].title),"</a>                </li>            ");_template_fun_array.push("        </ul>    </div></div>"),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],As={init:function(){var a=$(".mooncake-superman1"),t=$(".mooncake-block"),e=(t.offset().top+20,$(window).height(),$(document).height()),i=!1,n=function(a){var t="";switch(+a){case 1:t="网络错误";break;case 2003:t="未登录";break;case 2044:t="未登录";break;case 2046:t="手机号不合法";break;default:t="发生网络错误，请稍后重试~"}return t},l=[{title:"中秋购买月饼要注意什么？",href:"http://jingyan.baidu.com/article/90808022e927ccfd91c80fa7.html"},{title:"中秋佳节如何做好吃的菜肴",href:"http://jingyan.baidu.com/article/59703552d712948fc007402b.html"},{title:"中秋节手工——怎样制作纸灯笼",href:"http://jingyan.baidu.com/article/ed2a5d1f25e3e509f6be1716.html"},{title:"中秋之际―紫薯月饼",href:"http://jingyan.baidu.com/article/fedf073765e10635ac8977a4.html"},{title:"中秋节吃什么-美味的芝香排骨做节日餐",href:"http://jingyan.baidu.com/article/a17d52855aabb98099c8f274.html"},{title:"怎样在中秋沐浴祈福获得爱情?",href:"http://jingyan.baidu.com/article/d169e186824d00436611d8b9.html"},{title:"【中秋节】手工制作孔明灯方法",href:"http://jingyan.baidu.com/article/fedf073718f71b35ac8977b6.html"},{title:"怎样做中秋祈福莲花灯?",href:"http://jingyan.baidu.com/article/4d58d541eef88e9dd4e9c085.html"},{title:"怎样DIY不织布月饼送好友过中秋",href:"http://jingyan.baidu.com/article/95c9d20df3eb6fec4e756183.html"},{title:"中秋将至,如何拍摄唯美的满月照",href:"http://jingyan.baidu.com/article/90895e0fb87d5064ec6b0b9c.html"},{title:"中秋送礼方案",href:"http://jingyan.baidu.com/article/f7ff0bfc49ec612e26bb1393.html"},{title:"中秋节怎样挑选旅游地",href:"http://jingyan.baidu.com/article/046a7b3e139775f9c27fa993.html"},{title:"亚洲各国中秋节不同习俗攻略",href:"http://jingyan.baidu.com/article/c14654136083f70bfcfc4c92.html"},{title:"教你用ps制作中秋贺卡!",href:"http://jingyan.baidu.com/article/92255446f1bd4f851648f492.html"},{title:"【中秋节】莲蓉月饼做法详细图解",href:"http://jingyan.baidu.com/article/19192ad851754ae53e570791.html"},{title:"中秋佳节到了,如何挑选月饼?",href:"http://jingyan.baidu.com/article/e4511cf3452ef02b845eafb4.html"},{title:"中秋节,如何欢度才尽兴?",href:"http://jingyan.baidu.com/article/f79b7cb3158a389144023eb3.html"},{title:"中秋佳节如何做好吃的菜肴",href:"http://jingyan.baidu.com/article/59703552d712948fc007402b.html"},{title:"中秋佳节做什么比较好?",href:"http://jingyan.baidu.com/article/54b6b9c0ede41a2d583b472b.html"},{title:"中秋节送什么礼品好呢",href:"http://jingyan.baidu.com/article/a24b33cd1932ce19fe002b20.html"},{title:"中秋这个季节,你会想喝哪种茶?【经典之作】",href:"http://jingyan.baidu.com/article/414eccf6434ab26b431f0a3f.html"},{title:"中秋节月饼的健康吃法?",href:"http://jingyan.baidu.com/article/ac6a9a5e0c2a5b2b653eac0f.html"},{title:"中秋节公司可以开展的企业文化活动",href:"http://jingyan.baidu.com/article/75ab0bcbbf3f34d6864db230.html"},{title:"中秋节如何发有身价的礼品",href:"http://jingyan.baidu.com/article/5bbb5a1b064d6f13eba1790e.html"},{title:"中秋节选择什么礼品送客户比较合适",href:"http://jingyan.baidu.com/article/6181c3e0b36676152ef1531a.html"},{title:"2016中秋节送礼三个不能选",href:"http://jingyan.baidu.com/article/3aed632e305df170108091e7.html"},{title:"2016中秋节怎么放假",href:"http://jingyan.baidu.com/article/2c8c281da168a30008252ae2.html"},{title:"致中秋:我们为什么要送礼? ",href:"http://jingyan.baidu.com/article/08b6a591b96f8714a80922e2.html"},{title:"世界各地过中秋",href:"http://jingyan.baidu.com/article/4b52d702a5e3a0fc5d774b79.html"},{title:"2016中秋送礼,健康时尚成新趋势",href:"http://jingyan.baidu.com/article/48b558e3207abb7f38c09af0.html"},{title:"PS教大家设计制作中秋节海报",href:"http://jingyan.baidu.com/article/948f59241a0569d80ff5f9ce.html"},{title:"中秋节的习俗与文化",href:"http://jingyan.baidu.com/article/c45ad29c235522051753e2db.html"},{title:"中秋节有什么好玩的活动游戏呢?",href:"http://jingyan.baidu.com/article/93f9803f369a80e0e46f55cb.html"},{title:"中秋节要做哪些重要的事?",href:"http://jingyan.baidu.com/article/a3a3f811d8f03c8da2eb8a14.html"},{title:"中秋国庆双节临近,盘点抢票五大实用攻略",href:"http://jingyan.baidu.com/article/a948d651178aff0a2ccd2e52.html"},{title:"2016中秋节礼品采购方案及礼品推荐",href:"http://jingyan.baidu.com/article/49711c617c7306fa441b7ca3.html"},{title:"2016中秋节送什么礼好?——中秋送礼大全.",href:"http://jingyan.baidu.com/article/20b68a88a6956b796cec6289.html"},{title:"中秋临近,教大家一款月饼的做法",href:"http://jingyan.baidu.com/article/6181c3e0bd6374152ef1531d.html"},{title:"中秋吃月饼的禁忌",href:"http://jingyan.baidu.com/article/ed2a5d1f60fea009f6be1709.html"},{title:"中秋自制美味--枣泥月饼",href:"http://jingyan.baidu.com/article/295430f1fb1a9f0c7e0050cb.html"}];$(window).on("scroll",function(){var t=$(window).height(),e=$(document).scrollTop(),i=$(".tousu").offset().top,n=i+$(".tousu").height()-t/2,l=$(".mooncake-superman1").height(),c=$(".magzine-list").offset().top+(t/2-l)-t;e>n&&c>e?(a.show(),a.animate({bottom:t/2-l},"400",function(){$(".penqi").fadeOut(),$(".click-me-tooltip").fadeIn(),$(".cloud").fadeIn(),a.addClass("shake")})):(e>c||n>e)&&(a.hide(),a.removeClass("shake"),a.css("bottom",0))});var c={BdStoken:F.context("BdStoken"),bdstt:F.context("bdstt")};a.on("click",function(){"none"!==a.css("display")&&$.post("/submit/activity?method=midAutumnLottery",c,function(a){a.errno?alert(n(a.errno)):(i=1===a.data.won?!0:!1,o())})});var r=function(a){for(var t=[],e=0;a>e;e++){var i=Math.ceil(39*Math.random());t.indexOf(i)>-1?e--:t.push(i)}return t},o=function(){var a=$("body"),t='<div class="mask-mooncake" style="height: '+e+'px"></div>',o=r(4),p=[];if(p.push(l[o[0]],l[o[1]],l[o[2]],l[o[3]]),a.append(t),i){var s={length:p.length,tempExpShow:p};a.append(prizeTpl(s));var h=$(".suixie");h.addClass("flash"),$(".btn").on("click",function(){var a=$(".ipt").val(),t=/^1\d{10}$/;return t.test(a)?(c=$.extend(c,{mobile:a}),void $.post("/submit/activity?method=midAutumnFillPhoneNumber",c,function(a){a.errno?alert(n(a.errno)):$(".info").html("提交成功")})):void alert("请输入有效手机号")})}else{var m={random:Math.floor(3*Math.random()),tempExpShow:p};a.append(noprizeTpl(m))}a.css("overflow","hidden"),$(".close-icon").on("click",function(){$(".mask-mooncake").hide(),$(".dialog-bg").remove(),a.css("overflow","auto");var t=$(".suixie");1===t.length&&$eleSuixie.removeClass("flash")})}}};module.exports=As});